var CopyLinkView=BaseEncryptOutputView.extend({events:{"focus #output":"handleFocus","click #copyLinkBtn":"handleClick","mouseover #copyLinkBtn":"handleMouseover","mouseout #copyLinkBtn":"handleMouseout"},initialize:function(){CopyLinkView.__super__.initialize();$(document).bind('linkExpired',this.handleLinkExpiration);},handleFocus:function(e){if($(e.target).hasClass("expired")){if(document.createRange){window.getSelection().removeAllRanges();}
else if(document.selection){document.selection.empty();}
return false;}
$(e.target).animate({opacity:1.0},100,"linear",function(){if(document.createRange){var rangeToSelect=document.createRange();rangeToSelect.selectNode(this.parentNode);var curSelect=window.getSelection();curSelect.removeAllRanges();curSelect.addRange(rangeToSelect);}
else if(document.body&&document.body.createTextRange){range=document.body.createTextRange();range.moveToElementText(this);range.select();}
return false;});},handleClick:function(e){var cloneNode=document.querySelector('div.output-sec').cloneNode(true);document.body.appendChild(cloneNode);var rng=document.createRange();rng.selectNode(cloneNode);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(rng);document.execCommand('copy');document.body.removeChild(cloneNode);$("#copyLinkBtn").hide();$('#copyLinkSuccess').show();$('.displayContainer').addClass('copyActive').removeClass('copyHover');setTimeout(function(){$("#copyLinkBtn").show();$('#copyLinkSuccess').hide();$('.displayContainer').removeClass('copyActive');},600);},handleMouseover:function(e){$('.displayContainer').addClass("copyHover");},handleMouseout:function(e){$('.displayContainer').removeClass("copyHover");},handleLinkExpiration:function(json){$("#outputCopyContainer").hide();$("#outputCopyContainer-expired").show();$('#allowExpire').prop('disabled','disabled');$('#specifyClient').prop('disabled','disabled');}});