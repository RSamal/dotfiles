var AuthTwitterView=BaseEncryptInputView.extend({defaults:{MAX_TWITTER_IDS:5},events:{"change #Twitter_oAuthusers":"handleChange","focus #Twitter_oAuthusers":"handleFocus","blur #Twitter_oAuthusers":"handleBlur","keydown #Twitter_oAuthusers":"handleKeydown"},initialize:function(options){this.options=$.extend({},this.defaults,options);this.MAX_TWITTER_IDS=$(this.el).data('maxIds');_.bindAll(this,['reset']);$(document).bind('formReset',this.reset);this.model.bind("validationError",this.handleValidationError);},handleChange:function(){this.model.set({'service':'twitter','serviceUrl':null,'max_userIds':this.MAX_TWITTER_IDS});var userids=[];if($('#Twitter_oAuthusers').val().length){var alluserids=$.trim($('#Twitter_oAuthusers').val()).split(/[\t\n\r ,]+/g);$.each(alluserids,function(i,val){val=val.replace(/^@/,'');if(val!==''){userids.push(val);}});this.model.set({'userids':userids});}},handleFocus:function(){$('#Twitter_oAuthPasswordCaseMsg').css("display","block");},handleBlur:function(){},handleKeydown:function(event){if($('#Twitter_oAuthusers').val().split(',').length>=this.options.MAX_TWITTER_IDS&&event.keyCode==188){return false;}},reset:function(){$('#Twitter_oAuthusers').val('').blur();},handleValidationError:function(type,msg){if(type==='twitter'){AuthTwitterView.__super__.appendError($('#authOptionTwitter_errors'),msg,$('#Twitter_oAuthusers'));}}});