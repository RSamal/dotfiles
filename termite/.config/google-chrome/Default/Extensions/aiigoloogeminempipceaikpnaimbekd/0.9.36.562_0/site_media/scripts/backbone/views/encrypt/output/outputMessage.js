var OutputMessageView=BaseEncryptOutputView.extend({events:{"click":"handleMessageChange"},initialize:function(options){this.options=$.extend({},this.defaults,options||{});$("#omTime").text(this.options.remainingTime);$("#omView").text(this.options.remainingViews);$(document).trigger('outputMessageUpdated');if(this.model.get('authMethod')=='none'){$("#omAuthWrap").remove();}else if(this.model.get('authMethod')=='intEmail'){$("#omAuth").text('using your email');}else if(this.model.get('authMethod')=='email'){$("#omAuth").text('using your email');}else if(this.model.get('authMethod')=='phone'){$("#omAuth").text('using your phone');}else if(this.model.get('authMethod')=='thirdParty'){if(this.model.get('authService')=='google'){$("#omAuth").text('using your email');}else if(this.model.get('authService')=='twitter'){$("#omAuth").text('using your Twitter account');}}else if(this.model.get('authMethod')=='question'){$("#omAuth").text('by answering a question');}else if(this.model.get('authMethod')=='password'){$("#omAuth").text('by entering a password that we share');}else if(this.model.get('authMethod')=='native'){$("#omAuth").text('using your email');}else{$("#omAuth").text(this.model.get('authMethod'));}
if(this.model.get('authMethod')=='none'){$("#omExpire").text($("#omExpire").data('expireit'));}else{$("#omExpire").text($("#omExpire").data('expirelink'));}
$('#omView').next('span').pluralize({'value':this.options.remainingViews});this.handleBuildCopyText();},handleMessageChange:function(){this.$el.data('includemessage',this.$el.data('includemessage')=='enable'?'disable':'enable');this.handleBuildCopyText();$("#outputMessage").slideToggle(function(){});$("#output").focus();return false;},handleBuildCopyText:function(){var outputMessage=$("#outputMessage").text();var outputLink=this.model.get('outUrl');if(this.$el.data('includemessage')=='enable'){this.$el.text(this.$el.data('hidetext'));$('.zcTarget').attr('data-clipboard-text',outputLink+"\n"+outputMessage);}else{this.$el.text(this.$el.data('includetext'));$('.zcTarget').attr('data-clipboard-text',outputLink);}}});