var SubmitAndResetView=Backbone.View.extend({defaults:{MAX_GMAIL_IDS:1},events:{"submit form":"cancelSubmit","focus #generateLink":"handleSubmitFocus","blur #generateLink":"handleSubmitBlur"},initialize:function(){$('#generateLink').waitButton();lockifyUtils.setupQtips('#resetEncEntropy');_.bindAll(this,['enableSubmitButton']);this.enableSubmitButton();if(!lockifyCryptoUtils.nativeCryptoAvailable()&&!Random.is_ready()){new EntropyMeterView({el:$('#entropyEncryptContainer')});}},enableSubmitButton:function(){$('#generateLink').trigger('deanimate');$('#generateLink').unbind('click',this.handleSubmitClick);$("#generateLink").unbind('keyup','enter',this.handleSubmitClick);$('#generateLink').bind('click',this.handleSubmitClick);$("#generateLink").bind('keyup','enter',this.handleSubmitClick);},disableSubmitButton:function(){$('#generateLink').unbind('click',this.handleSubmitClick);$("#generateLink").unbind('keyup','enter',this.handleSubmitClick);},cancelSubmit:function(){return false;},handleSubmitFocus:function(){$('#generateLink').addClass('button-hover');},handleSubmitBlur:function(){$('#generateLink').removeClass('button-hover');},handleSubmitClick:function(e){handleSubmission(e);}});