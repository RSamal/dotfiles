$(document).ready(function(){$('.briefLoading').hide();var totalRuns=150;var chi2sGraph=new Chi2sGraphView({el:$('#chiSquareGraph'),model:new Chi2sModel(),width:545}).render();var randomGrid=null;var prngPicker=new PrngPickerView({el:$('#prngContainer')});var pnrgRunning=new PrngRunningView({el:$('#prngRunning'),totalRuns:totalRuns});$(document).bind('resetTest',function(){$('#prngTests').addClass('defaultHide');});$(document).bind('startTest',function(){chi2sGraph.render();chi2sGraph.model.set('chi2s',[]);var intSampleSize=16384;$(document).trigger('sampleSizeSet',intSampleSize);var theloop=function(j){randInts=lockifyCryptoUtils.getRandomWords(intSampleSize,false,prngPicker.forceNonNative());var prob=chiSquare.calculate(sjcl.codec.bytes.fromBits(randInts));var lin=1.0-(Math.abs(prob-0.5)*2);chi2sGraph.model.pushVal(lin);};var j=0;if(false){while(j<totalRuns){theloop(j);j=j+1;}
$(document).trigger('randomGridComplete');}else{var intv;$(document).bind('prngTestCancel',function(){clearInterval(intv);$(document).trigger('resetTest');});intv=setInterval(function(){if(j>=totalRuns){clearInterval(intv);$(document).trigger('randomGridComplete');}else{theloop(j);j++;}},200);}});});