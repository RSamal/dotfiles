var BaseAuthTwitterDecryptView=BaseThirdPartyAuthDecryptView.extend({initialize:function(options){this.options=$.extend({},this.defaults,options);$('#authUi_twitter').show();$('#twitterHeader').show();$('#twitterMetaTips').show();BaseAuthTwitterDecryptView.__super__.finishInstructionText(this.options.json,this.options.authkey,$('#validTwitterAccount'));$('#authUis').addClass('auth_type_twitter');this.bind('configureTwitterAuthLink',this.configureTwitterLink);this.bind("authComplete",this.authComplete);BaseAuthTwitterDecryptView.__super__.configureAuthLink=this.configureTwitterAuthLink;_.bindAll(this,['configureAuthLink']);BaseAuthTwitterDecryptView.__super__.setLinkUrl=this.setLinkUrl;if($('#validTwitterAccount').children().hasClass('multipleValueIds')){$('.status .multiple').show();$('.meta.multiple').show();$('.meta.single').hide();}else{$('.meta.multiple').hide();$('.meta.single').show();}},configureTwitterLink:function(){$('.error').text('');$('#begin_twitter_auth').waitButton().unbind('click').click(function(e){if($(this).prop('disabled')){e.preventDefault();return false;}
$('.error').text('');return true;});$('#getSecret').hide();$('#getSecret').before($('#begin_twitter_auth'));this.configureTwitterAuthLink();$('#getSecret').addClass('disabled').prop('disabled',true);},configureTwitterAuthLink:function(){var ajaxURL=$('#twitter_ajax_url').val();var self=this;$.ajax({type:'GET',url:ajaxURL,dataType:'json',cache:false,success:function(data){if(!data){$('.error').text('Could not load data from the server.');}else if(data['error']){$('.error').html(new Showdown.converter().makeHtml(data['error']));}else{$('#twitter_auth_token').val(data['token']);self.setLinkUrl(data['url']);$('#begin_twitter_auth').prop('disabled',false);$('#begin_twitter_auth').trigger('deanimate');}},error:function(XMLHttpRequest,textStatus,errorThrown){$('.error').text('Could not load data from the server.');}});},setLinkUrl:function(href){throw"This function has not been overridden by its child instance.";},authComplete:function(querystring){BaseAuthTwitterDecryptView.__super__.authComplete(querystring);}});